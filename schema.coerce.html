<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>schema.coerce documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Schema</span> <span class="project-version">1.3.5-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>schema</span></div></div></li><li class="depth-2 branch current"><a href="schema.coerce.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>coerce</span></div></a></li><li class="depth-2 branch"><a href="schema.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>experimental</span></div></div></li><li class="depth-3 branch"><a href="schema.experimental.abstract-map.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>abstract-map</span></div></a></li><li class="depth-3 branch"><a href="schema.experimental.complete.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>complete</span></div></a></li><li class="depth-3"><a href="schema.experimental.generators.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>generators</span></div></a></li><li class="depth-2 branch"><a href="schema.macros.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>macros</span></div></a></li><li class="depth-2 branch"><a href="schema.potemkin.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>potemkin</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>spec</span></div></div></li><li class="depth-3 branch"><a href="schema.spec.collection.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>collection</span></div></a></li><li class="depth-3 branch"><a href="schema.spec.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3 branch"><a href="schema.spec.leaf.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>leaf</span></div></a></li><li class="depth-3"><a href="schema.spec.variant.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>variant</span></div></a></li><li class="depth-2 branch"><a href="schema.test.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>test</span></div></a></li><li class="depth-2"><a href="schema.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="schema.coerce.html#var-coercer"><div class="inner"><span>coercer</span></div></a></li><li class="depth-1"><a href="schema.coerce.html#var-coercer.21"><div class="inner"><span>coercer!</span></div></a></li><li class="depth-1"><a href="schema.coerce.html#var-CoercionMatcher"><div class="inner"><span>CoercionMatcher</span></div></a></li><li class="depth-1"><a href="schema.coerce.html#var-edn-read-string"><div class="inner"><span>edn-read-string</span></div></a></li><li class="depth-1"><a href="schema.coerce.html#var-first-matcher"><div class="inner"><span>first-matcher</span></div></a></li><li class="depth-1"><a href="schema.coerce.html#var-json-coercion-matcher"><div class="inner"><span>json-coercion-matcher</span></div></a></li><li class="depth-1"><a href="schema.coerce.html#var-keyword-enum-matcher"><div class="inner"><span>keyword-enum-matcher</span></div></a></li><li class="depth-1"><a href="schema.coerce.html#var-safe"><div class="inner"><span>safe</span></div></a></li><li class="depth-1"><a href="schema.coerce.html#var-safe-long-cast"><div class="inner"><span>safe-long-cast</span></div></a></li><li class="depth-1"><a href="schema.coerce.html#var-Schema"><div class="inner"><span>Schema</span></div></a></li><li class="depth-1"><a href="schema.coerce.html#var-set-matcher"><div class="inner"><span>set-matcher</span></div></a></li><li class="depth-1"><a href="schema.coerce.html#var-string-.3Eboolean"><div class="inner"><span>string-&gt;boolean</span></div></a></li><li class="depth-1"><a href="schema.coerce.html#var-string-.3Ekeyword"><div class="inner"><span>string-&gt;keyword</span></div></a></li><li class="depth-1"><a href="schema.coerce.html#var-string-.3Euuid"><div class="inner"><span>string-&gt;uuid</span></div></a></li><li class="depth-1"><a href="schema.coerce.html#var-string-coercion-matcher"><div class="inner"><span>string-coercion-matcher</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">schema.coerce</h1><div class="doc"><pre class="plaintext">Extension of schema for input coercion (coercing an input to match a schema)
</pre></div><div class="public anchor" id="var-coercer"><h3>coercer</h3><div class="usage"><code>(coercer schema coercion-matcher)</code></div><div class="doc"><pre class="plaintext">Inputs: [schema coercion-matcher :- CoercionMatcher]

Produce a function that simultaneously coerces and validates a datum.  Returns
 a coerced value, or a schema.utils.ErrorContainer describing the error.</pre></div><div class="src-link"><a href="https://github.com/foo/bar/blob/1.3.5-SNAPSHOT/src/cljc/schema/coerce.cljc#L27">view source</a></div></div><div class="public anchor" id="var-coercer.21"><h3>coercer!</h3><div class="usage"><code>(coercer! schema coercion-matcher)</code></div><div class="doc"><pre class="plaintext">Inputs: [schema coercion-matcher :- CoercionMatcher]

Like `coercer`, but is guaranteed to return a value that satisfies schema (or throw).</pre></div><div class="src-link"><a href="https://github.com/foo/bar/blob/1.3.5-SNAPSHOT/src/cljc/schema/coerce.cljc#L46">view source</a></div></div><div class="public anchor" id="var-CoercionMatcher"><h3>CoercionMatcher</h3><div class="usage"></div><div class="doc"><pre class="plaintext">A function from schema to coercion function, or nil if no special coercion is needed.
The returned function is applied to the corresponding data before validation (or walking/
coercion of its sub-schemas, if applicable)</pre></div><div class="src-link"><a href="https://github.com/foo/bar/blob/1.3.5-SNAPSHOT/src/cljc/schema/coerce.cljc#L21">view source</a></div></div><div class="public anchor" id="var-edn-read-string"><h3>edn-read-string</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Reads one object from a string. Returns nil when string is nil or empty
</pre></div><div class="src-link"><a href="https://github.com/foo/bar/blob/1.3.5-SNAPSHOT/src/cljc/schema/coerce.cljc#L132">view source</a></div></div><div class="public anchor" id="var-first-matcher"><h3>first-matcher</h3><div class="usage"><code>(first-matcher matchers)</code></div><div class="doc"><pre class="plaintext">Inputs: [matchers :- [CoercionMatcher]]
Returns: CoercionMatcher

A matcher that takes the first match from matchers.</pre></div><div class="src-link"><a href="https://github.com/foo/bar/blob/1.3.5-SNAPSHOT/src/cljc/schema/coerce.cljc#L60">view source</a></div></div><div class="public anchor" id="var-json-coercion-matcher"><h3>json-coercion-matcher</h3><div class="usage"><code>(json-coercion-matcher schema)</code></div><div class="doc"><pre class="plaintext">A matcher that coerces keywords and keyword eq/enums from strings, and longs and doubles
from numbers on the JVM (without losing precision)</pre></div><div class="src-link"><a href="https://github.com/foo/bar/blob/1.3.5-SNAPSHOT/src/cljc/schema/coerce.cljc#L124">view source</a></div></div><div class="public anchor" id="var-keyword-enum-matcher"><h3>keyword-enum-matcher</h3><div class="usage"><code>(keyword-enum-matcher schema)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/foo/bar/blob/1.3.5-SNAPSHOT/src/cljc/schema/coerce.cljc#L74">view source</a></div></div><div class="public anchor" id="var-safe"><h3>safe</h3><div class="usage"><code>(safe f)</code></div><div class="doc"><pre class="plaintext">Take a single-arg function f, and return a single-arg function that acts as identity
if f throws an exception, and like f otherwise.  Useful because coercers are not explicitly
guarded for exceptions, and failing to coerce will generally produce a more useful error
in this case.</pre></div><div class="src-link"><a href="https://github.com/foo/bar/blob/1.3.5-SNAPSHOT/src/cljc/schema/coerce.cljc#L85">view source</a></div></div><div class="public anchor" id="var-safe-long-cast"><h3>safe-long-cast</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Coerce x to a long if this can be done without losing precision, otherwise return x.
</pre></div><div class="src-link"><a href="https://github.com/foo/bar/blob/1.3.5-SNAPSHOT/src/cljc/schema/coerce.cljc#L93">view source</a></div></div><div class="public anchor" id="var-Schema"><h3>Schema</h3><div class="usage"></div><div class="doc"><pre class="plaintext">A Schema for Schemas
</pre></div><div class="src-link"><a href="https://github.com/foo/bar/blob/1.3.5-SNAPSHOT/src/cljc/schema/coerce.cljc#L17">view source</a></div></div><div class="public anchor" id="var-set-matcher"><h3>set-matcher</h3><div class="usage"><code>(set-matcher schema)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/foo/bar/blob/1.3.5-SNAPSHOT/src/cljc/schema/coerce.cljc#L81">view source</a></div></div><div class="public anchor" id="var-string-.3Eboolean"><h3>string-&gt;boolean</h3><div class="usage"><code>(string-&gt;boolean s)</code></div><div class="doc"><pre class="plaintext">returns true for strings that are equal, ignoring case, to the string 'true'
(following java.lang.Boolean/parseBoolean semantics)</pre></div><div class="src-link"><a href="https://github.com/foo/bar/blob/1.3.5-SNAPSHOT/src/cljc/schema/coerce.cljc#L68">view source</a></div></div><div class="public anchor" id="var-string-.3Ekeyword"><h3>string-&gt;keyword</h3><div class="usage"><code>(string-&gt;keyword s)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/foo/bar/blob/1.3.5-SNAPSHOT/src/cljc/schema/coerce.cljc#L65">view source</a></div></div><div class="public anchor" id="var-string-.3Euuid"><h3>string-&gt;uuid</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Returns instance of UUID if input is a string.
Note: in CLJS, this does not guarantee a specific UUID string representation,
      similar to #uuid reader</pre></div><div class="src-link"><a href="https://github.com/foo/bar/blob/1.3.5-SNAPSHOT/src/cljc/schema/coerce.cljc#L102">view source</a></div></div><div class="public anchor" id="var-string-coercion-matcher"><h3>string-coercion-matcher</h3><div class="usage"><code>(string-coercion-matcher schema)</code></div><div class="doc"><pre class="plaintext">A matcher that coerces keywords, keyword eq/enums, s/Num and s/Int,
and long and doubles (JVM only) from strings.</pre></div><div class="src-link"><a href="https://github.com/foo/bar/blob/1.3.5-SNAPSHOT/src/cljc/schema/coerce.cljc#L145">view source</a></div></div></div></body></html>